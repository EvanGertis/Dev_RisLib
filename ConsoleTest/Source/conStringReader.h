#pragma once

/*==============================================================================
StringReader Services.
==============================================================================*/

//******************************************************************************
//******************************************************************************
//******************************************************************************

#include <stdio.h>
#include "conKeyReader.h"

//******************************************************************************
//******************************************************************************
//******************************************************************************

namespace Con
{

//******************************************************************************
//******************************************************************************
//******************************************************************************
// Constants.

   static const int cMaxStringSize = 400;

//******************************************************************************
//******************************************************************************
//******************************************************************************
// This class provides global program console i/o facility.

class StringReader
{
public:
   //***************************************************************************
   //***************************************************************************
   //***************************************************************************
   // Members.

   KeyRecord mKeyIn;
   int mCursor;

   char mInputString[cMaxStringSize];
   int mInputLength;

   //***************************************************************************
   //***************************************************************************
   //***************************************************************************
   // Methods.

   // Constructor.
   StringReader();
   ~StringReader();

   //***************************************************************************
   //***************************************************************************
   //***************************************************************************
   // Methods.

   // Run test loop.
   void doTestLoop1();
   void doTestLoop2();

   //***************************************************************************
   //***************************************************************************
   //***************************************************************************
   // Methods.

   void onKey_Enter();
   void onKey_BackSpace();
   void onKey_Delete();
   void onKey_LeftArrow();
   void onKey_RightArrow();
   void onKey_UpArrow();
   void onKey_DownArrow();
   void onKey_Home();
   void onKey_End();
   void onKey_Printable();
   void onKey_Ignore();
   void doTouchCursor();

   //***************************************************************************
   //***************************************************************************
   //***************************************************************************
   // Methods.

   // Write a single char to the console output.
   void writeOne(char aChar);
   void writeNewLine();
};

//******************************************************************************
//******************************************************************************
//******************************************************************************
// Global singular instance.

#ifdef _CONSTRINGREADER_CPP_
          StringReader gStringReader;
#else
   extern StringReader gStringReader;
#endif

//******************************************************************************
//******************************************************************************
//******************************************************************************
}//namespace

