//******************************************************************************
//******************************************************************************
//******************************************************************************

#include "stdafx.h"

#include <stdarg.h>

#include "my_functions.h"
#include "risAlphaDir.h"

#include "tsShare.h"
#include "tsThreadServices.h"

namespace TS
{

//******************************************************************************
//******************************************************************************
//******************************************************************************

void reset()
{
   strcpy(gShare.mProgramName, "SomeProgram");
}

void setProgramName(const char* aName)
{
   strncpy(gShare.mProgramName, aName, cMaxStringSize);
}

//******************************************************************************
//******************************************************************************
//******************************************************************************

bool openLogFile()
{            
   char tBuf[400];
   char tFileName[400];
   strcpy(tFileName, gShare.mProgramName);
   strcat(tFileName,".txt");

   gShare.mLogFile = fopen(Ris::getAlphaFilePath_Log(tBuf,tFileName),"w");

   if (gShare.mLogFile==0)
   {
      return false;
   }

   return true;
}

//******************************************************************************
//******************************************************************************
//******************************************************************************

void closeLogFile()
{
   if (gShare.mLogFile != 0)
   {
      fclose(gShare.mLogFile);
   }
   gShare.mLogFile = 0;
}

//******************************************************************************
//******************************************************************************
//******************************************************************************

void initialize()
{
   openLogFile();
}

void finalize()
{
   openLogFile();
}

//******************************************************************************
//******************************************************************************
//******************************************************************************
} //namespace

